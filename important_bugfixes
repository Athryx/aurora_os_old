kernel:
stop the thread list from leaking memory

fix build system
